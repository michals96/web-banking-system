<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wt: Library overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wt
   &#160;<span id="projectnumber">4.3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Library overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="contents"></a>
Contents</h1>
<div style="margin-left: 10px; margin-bottom: 5px;"> <a class="el" href="overview.html#wwidget_sec">&#160;1. Widgets</a> <div style="margin-left: 10px; margin-bottom: 7px;"> <a class="el" href="overview.html#layout">1.1 Layout</a> <br />
 <a class="el" href="overview.html#style">1.2 Style</a> <br />
 <a class="el" href="overview.html#containers">1.3 Widget containers</a> <br />
 </div><p> <a class="el" href="overview.html#urls_sec">&#160;2. Application URL(s)</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"></div><p> <a class="el" href="overview.html#application_sec">&#160;3. Startup and session management</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"></div><p> <a class="el" href="overview.html#signal_slot">&#160;4. Signal/slot event handling</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"></div><p> <a class="el" href="overview.html#eventhandling">&#160;5. Optimizing client-side event handling</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"></div><p> <a class="el" href="overview.html#bootstrap">&#160;6. Application bootstrap</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"> <a class="el" href="overview.html#default_bootstrap">6.1 Default bootstrap</a> <br />
 <a class="el" href="overview.html#progressive_bootstrap">6.1 Progressive bootstrap</a> <br />
 </div><p> <a class="el" href="overview.html#sec_painting">&#160;7. Painting</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"></div><p> <a class="el" href="overview.html#internationalization_sec">&#160;8. Internationalization</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"></div><p> <a class="el" href="overview.html#deployment">&#160;9. Deployment</a> <br />
 </p><div style="margin-left: 10px; margin-bottom: 7px;"> <a class="el" href="overview.html#wthttpd">9.1 Built-in httpd</a> <br />
 <a class="el" href="overview.html#fastcgi">9.2 FastCGI</a> <br />
 <a class="el" href="overview.html#wtisapi">9.3 ISAPI</a> <br />
 </div><p> <a class="el" href="overview.html#configuration_sec">&#160;10. Configuration</a> </p><div style="margin-left: 10px; margin-bottom: 7px;"> <a class="el" href="overview.html#config_session">10.1 Session management (wt_config.xml)</a> <br />
 <a class="el" href="overview.html#config_general">10.2 General application settings (wt_config.xml)</a> <br />
 <a class="el" href="overview.html#config_wthttpd">10.3 Wt httpd (command-line or configuration file) options</a> <br />
 <a class="el" href="overview.html#config_fastcgi">10.4 FastCGI options (wt_config.xml)</a> <br />
 <a class="el" href="overview.html#config_isapi">10.5 ISAPI options (wt_config.xml)</a> <br />
 </div> <div style="margin-left: 10px; margin-bottom: 7px;"></div><p> <a class="el" href="overview.html#error_sec">&#160;11. Error handling and logging</a> </div><h1><a class="anchor" id="wwidget_sec"></a>
 1. Widgets</h1>
<p>The <a class="el" href="classWt_1_1WWidget.html" title="The abstract base class for a user-interface component.">WWidget</a> class represents a widget, which provides an abstraction of a visual entity. The entire user interface is specified by creating a hierarchical structure of WWidgets, rooted at <a class="el" href="classWt_1_1WApplication.html#a485af3ad2b758931edbde77fcf529981" title="Returns the root container.">WApplication::root()</a>. By reacting to events related to these widgets, you can perform business logic, and manipulate the widget hierarchy to update the user interface.</p>
<p>When inserting a widget in the widget hierarchy, ownership is transferred to its parent in the tree. Thus, when deleting a widget, all of its children are deleted as well, significantly reducing the burden of memory management related to widgets. When the <a class="el" href="classWt_1_1WApplication.html" title="Represents an application instance for a single session.">WApplication</a> object is deleted, the root of the tree is deleted, and in this way all resources associated with any widget are freed.</p>
<p>Any descendent class of <a class="el" href="classWt_1_1WWidget.html" title="The abstract base class for a user-interface component.">WWidget</a> is a self-contained (reusable) class that encapsulates both the look and behaviour, enabling the design of the user interface in an orthogonal way.</p>
<h2><a class="anchor" id="layout"></a>
1.1 Layout</h2>
<p>Widgets are layed out (with a few exceptions) following this hierarchical structure. You have two choices for layout of children within a container.</p>
<ul>
<li>Either you use a CSS based layout (perhaps in combination with a <a class="el" href="classWt_1_1WTemplate.html" title="A widget that renders an XHTML template.">WTemplate</a> for the HTML markup), in which case the CSS style properties of the container and children together determine the result: each child manages its layout with respect to its sibling following a (rather complex) set of rules.</li>
<li>Alternatively, Wt provides <a class="el" href="classWt_1_1WLayout.html">layout managers</a> that may be used for layout.</li>
</ul>
<p>CSS distinguishes between inline and block level elements (widgets) for deciding how to add them to the layout. Text-like widgets (<a class="el" href="classWt_1_1WWidget.html#ac78e3af143883334c82031790c87416e">inline</a>) flow with sibling inline widgets in lines, wrapping at the right edge of the parent container. In contrast, widgets displayed as a <a class="el" href="classWt_1_1WWidget.html#ac78e3af143883334c82031790c87416e">block </a> stack vertically with respect to sibling widgets. Block widgets allow more control over their position and size than inline widgets, and may also float to the left or right border of the parent container.</p>
<p>Layout managers are implemented by classes that derive from <a class="el" href="classWt_1_1WLayout.html" title="An abstract base class for layout managers.">WLayout</a>, and are used in conjunction with the <a class="el" href="classWt_1_1WContainerWidget.html" title="A widget that holds and manages child widgets.">WContainerWidget</a> container. A layout manager adapts the size and location of the children to the width and height of the parent. If you want the opposite (i.e. to adapt the size (width and/or height) of the parent to the size of the children), then you can still use layout managers, but you need to set additional alignment flags which determine how the layout is positioned in the parent in case of excess width and/or height.</p>
<h2><a class="anchor" id="style"></a>
1.2 Style</h2>
<p>For visual markup of widgets, the recommended way is to use CSS style sheets. These allow the visual look to be defined separately from the the rest of the application. External style sheets may be loaded using <a class="el" href="classWt_1_1WApplication.html#a8dcc025cd58968e087de8e90e6a4f547" title="Adds an external style sheet.">WApplication::useStyleSheet()</a>, and the internal style sheet may be manipulated using <a class="el" href="classWt_1_1WApplication.html#a6a9a20d65ce9e7c2f62b27387c94e10d" title="Returns a reference to the inline style sheet.">WApplication::styleSheet()</a>.</p>
<p>In the style sheets, you describe rules that are prefixed by CSS selectors. By setting matching style classes for your widgets using <a class="el" href="classWt_1_1WWidget.html#a4be23ecf48d5968efb5d926e38e01708" title="Sets (one or more) CSS style classes.">WWidget::setStyleClass()</a>, these rules will be applied to your widgets. The recommended way for visual response to events is by changing the style class for the widget.</p>
<p>In addition to style sheets, Wt also supports the direct manipulation of a widget's style, using <a class="el" href="classWt_1_1WWidget.html#ac1833c7c01599b3733712ab0bf3c3a0a" title="Returns the decoration style of this widget.">WWidget::decorationStyle()</a>.</p>
<h2><a class="anchor" id="containers"></a>
1.3 Widget containers</h2>
<p>With a few exceptions, all widgets are children of (and contained in) a container widget such as <a class="el" href="classWt_1_1WContainerWidget.html" title="A widget that holds and manages child widgets.">WContainerWidget</a> or <a class="el" href="classWt_1_1WTableCell.html" title="A container widget that represents a cell in a table.">WTableCell</a>. A widget may be inserted into a <a class="el" href="classWt_1_1WContainerWidget.html" title="A widget that holds and manages child widgets.">WContainerWidget</a> by adding the widget to the container using <a class="el" href="classWt_1_1WContainerWidget.html#a800886eb60c904c8d00978cb8ac8d158" title="Adds a child widget to this container.">WContainerWidget::addWidget()</a>. You may also add a widget to a container using a layout manager.</p>
<h1><a class="anchor" id="urls_sec"></a>
 2. Application URL(s)</h1>
<p>By default, a Wt application is a single page web application: the URL does not change. Still, an application may manage multiple URLs that correspond to internal paths. These are URLs that are created by appending an internal path to the application URL. The internal path may be manipulated through <a class="el" href="classWt_1_1WApplication.html#a2c1a10aadc0d7ed877b5715b42ca4911" title="Changes the internal path.">WApplication::setInternalPath()</a>. When the internal path changes, this is reflected in the browser URL and an entry is added to the browser history, allowing the user to use the back and forward buttons to navigate through your application.</p>
<p>To avoid rerendering the entire widget tree for each internal path change, when Ajax is available, the internal path is indicated either by manipulating the URL using the HTML5 History API, or by using a named anchor (#) after the deployment URL. For a plain HTML session, the session ID is appended to the URL to avoid the session from reloading when the user navigates to a new internal URL using a <a class="el" href="classWt_1_1WAnchor.html" title="A widget that represents an HTML anchor (to link to other documents).">WAnchor</a>.</p>
<p>To effectively change the internal path and obtain consistent behaviour with or without JavaScript, you should use a <a class="el" href="classWt_1_1WAnchor.html" title="A widget that represents an HTML anchor (to link to other documents).">WAnchor</a> to let the user navigate to a new internal path. The easiest way to do this is by using <a class="el" href="classWt_1_1WAnchor.html#a90d1aa41c061bdc9e61fa42eb36b27d8" title="Sets the link.">WAnchor::setLink()</a>. This refers the <a class="el" href="classWt_1_1WAnchor.html" title="A widget that represents an HTML anchor (to link to other documents).">WAnchor</a> to a URL generated by <a class="el" href="classWt_1_1WApplication.html#a24cee04e69695ce7f046d20b2473600a" title="Returns a bookmarkable URL for the current internal path.">WApplication::bookmarkUrl()</a> for the new internal path (handling the plain HTML case), and binds a JavaScript slot to its <a class="el" href="classWt_1_1WInteractWidget.html#af6cb297f8593e6884de66d23ea69d49c" title="Event signal emitted when a mouse key was clicked on this widget.">WAnchor::clicked()</a> signal, which changes the internal path (handling the Ajax case).</p>
<p>Finally, you can listen for path changes using the <a class="el" href="classWt_1_1WApplication.html#a3e68c4b6bb387f27a614e7962e11967b" title="Signal which indicates that the user changes the internal path.">WApplication::internalPathChanged()</a> event to react to the user navigating through his history.</p>
<h1><a class="anchor" id="application_sec"></a>
 3. Startup and session management</h1>
<p>In your application, e.g. from within your main(), you can use <a class="el" href="classWt_1_1WServer.html#abca6890dab44d87bd3af64705ac072d3" title="Runs the Wt application server.">WRun()</a> to start the Wt application server. This method will return only when shutdown is signaled by the environment, and after the application server (and all remaining active sessions) has been properly shut down. One parameter to the <a class="el" href="classWt_1_1WServer.html#abca6890dab44d87bd3af64705ac072d3" title="Runs the Wt application server.">WRun()</a> function is a <em>createApplication</em> function object. Alternatively, if you wish to have more control over the application server, you may also instantiate and configure a <a class="el" href="classWt_1_1WServer.html" title="A class encapsulating a web application server.">WServer</a> instance directly.</p>
<p>For every new session (which corresponds to a new user accessing your web application), the library calls your createApplication callback function to create a new <a class="el" href="classWt_1_1WApplication.html" title="Represents an application instance for a single session.">WApplication</a> object for that session. The request arguments (as part of the <a class="el" href="classWt_1_1WEnvironment.html" title="A class that captures information on the application environment.">WEnvironment</a> object) are passed to this createApplication function, and may be used to customize the application or authenticate the user. See also <a class="el" href="overview.html#bootstrap">&#160;6. Application bootstrap</a> for details on the application bootstrap method.</p>
<p>At all times, the <a class="el" href="classWt_1_1WApplication.html" title="Represents an application instance for a single session.">WApplication</a> instance is accessible using the static method <a class="el" href="classWt_1_1WApplication.html#a0a866fd44045f2e1685790b1c3c4cb41" title="Returns the current application instance.">WApplication::instance()</a>, and is useful to inspect startup arguments and settings (using <a class="el" href="classWt_1_1WApplication.html#ad51548b74173d6ec294cbf7ef31e8e6f" title="Returns the environment information.">WApplication::environment()</a>), to set or change the application title (<a class="el" href="classWt_1_1WApplication.html#a71a3f7da5abb9a76df94fab69ba61670" title="Sets the window title.">WApplication::setTitle()</a>), to specify a locale (<a class="el" href="classWt_1_1WApplication.html#ac0af7e0131c926c77b207595c8c6e283" title="Changes the locale.">WApplication::setLocale()</a>) for rendering, and many other application-wide settings. In a multi-threaded environment, access to this instance is implemented using thread local storage.</p>
<p>A session exits when the user browses away from the application, when <a class="el" href="classWt_1_1WApplication.html#a5231d54ed34982f4366058eb6440c8f7" title="Quits the application.">WApplication::quit()</a> is called, or when the application server is shut down. In any case, the application object together with the entire widget tree for that session is first properly deleted. Therefore, you should release resources held by your widgets or application in the destructors of these objects.</p>
<p>The library offers two different mechanisms to map sessions onto processes: <b>dedicated processes</b> (not with ISAPI deployment) and <b>shared processes</b>. The first mechanism forks a dedicated process for every distinct session. This provides the kernel-level isolation of different sessions, which may be useful for highly security sensitive applications. The second mechanism spawns a number of processes and allocates new sessions randomly to one of these processes (when using the built-in httpd, only one process is used in total). This reduces the danger for DoS attacks, but requires more careful programming as memory corruption affects all sessions in a single process, and sessions are not isolated by any other mechanism but correct programming.</p>
<h1><a class="anchor" id="signal_slot"></a>
 4. Signal/slot event handling</h1>
<p>To respond to user-interactivity events, or in general to communicate events from one widget to any other, Wt uses a signal/slot system.</p>
<p>A slot can be any function, bound using std::bind(), but special support exists for methods of descendants of <a class="el" href="classWt_1_1WObject.html" title="A base class for objects that participate in the signal/slot system.">WObject</a> with respect to connection management: the signal will be disconnected when the bound object is deleted.</p>
<p>To connect a signal with a slot, the only requirement is that the method signature of the slot must be compatible with the signal definition. In this way every method may be used as a slot, and it is not necessary to explicitly indicate a particular method to be a slot (as is needed in Qt), by putting them in a special section. Nevertheless, you may still do that if you wish to emphasize that these functions can be used as slots, or, if you have done extra work to optimize the implementation of these methods as client-side JavaScript code (see below).</p>
<p>A signal may be created by adding a <a class="el" href="classWt_1_1Signal.html">Signal&lt;X, ...&gt;</a> object. You may specify arguments which may be of arbitrary types that are Copyable, that may be passed through the signal to connected slots.</p>
<p>The library defines several user event signals on various widgets, and it is easy and convenient to add signals and slots to widget classes to communicate events and trigger callbacks.</p>
<p>Event signals (<a class="el" href="classWt_1_1EventSignal.html">EventSignal&lt;E&gt;</a>) are signals that may be triggered internally by the library to respond to user interactivity events. The abstract base classes <a class="el" href="classWt_1_1WInteractWidget.html" title="An abstract widget that can receive user-interface interaction.">WInteractWidget</a> and <a class="el" href="classWt_1_1WFormWidget.html" title="An abstract widget that corresponds to an HTML form element.">WFormWidget</a> define most of these event signals. To react to one of these events, the programmer connects a self-defined or already existing slot to such a signal.</p>
<h1><a class="anchor" id="eventhandling"></a>
 5. Optimizing client-side event handling</h1>
<p>By default, Wt performs all event processing server-side. Every connected event signal will cause the web browser to communicate with the web server in order to invoke the callback code, and visual changes will be updated in the web page.</p>
<p>However, Wt offers several options for incorporating client-side event handling. This may in general increase responsiveness of the application since the user gets an instant feedback, avoiding the typical communication delay is avoided.</p>
<p>The least flexible but most convenient option for client-side event handling is letting Wt learn the visual effect of a slot and cache it in JavaScript code in the browser. In this way, the functionality is still specified in C++, and therefore the application still works equally when JavaScript is not available. The only restriction is that this is only possible for stateless callback code &ndash; i.e. when the visual update does not depend on state that may change in the course of the application, or event details. See the documentation of <a class="el" href="classWt_1_1WObject.html#adaa163b9e92933f3b2ff4ec58e2734c6" title="Declares a slot to be stateless and learn client-side behaviour on first invocation.">WObject::implementStateless</a> for details, or the <a class="el" href="example.html">Treelist example</a> for the use of stateless implementations to create a treelist widget that does all node expansion / collapsing client-side, at least if JavaScript is available.</p>
<p>The stateless slot learning allows applications to be developed entirely in C++, with only one specification of the desired behaviour, and decide at run-time to optimize certain event handling in client-side JavaScript if possible, and fallback to server-side event handling otherwise.</p>
<p>When the requirements for stateless slot learning cannot be met you will have to resort to writing JavaScript manually. Wt provides a number of mechanisms to integrate JavaScript code with C++:</p>
<ul>
<li>Using <a class="el" href="classWt_1_1JSlot.html" title="A slot that is only implemented in client side JavaScript code.">JSlot</a>, you can specify the JavaScript for a slot, when connected to an <a class="el" href="classWt_1_1EventSignal.html" title="A signal that conveys user-interface events.">EventSignal</a>.</li>
<li>Using <a class="el" href="classWt_1_1JSignal.html" title="A signal to relay JavaScript to C++ calls.">JSignal</a>, you can emit a C++ signal from JavaScript code, using a JavaScript function <code>Wt.emit()</code>.</li>
<li>Using <a class="el" href="classWt_1_1WApplication.html#a2a92457b9212cef4057cb54e56183967" title="Executes some JavaScript code.">WApplication::doJavaScript()</a>, you can call JavaScript code directly as part of event handling.</li>
</ul>
<h1><a class="anchor" id="bootstrap"></a>
 6. Application bootstrap</h1>
<p>A Wt application may support both plain HTML and Ajax-enabled user agents. When a first request is made for a new session, there is no way of knowing whether the agent supports Ajax (and has it enabled). The bootstrap procedure therefore has two strategies of making the choice between a plain HTML and Ajax-enabled application mode.</p>
<h2><a class="anchor" id="default_bootstrap"></a>
6.1 Default bootstrap</h2>
<p>In the default bootstrap mode, for the normal case, a small bootstrap HTML file is served, which detects presence of Ajax (and various other environment properties such as presence of an internal path as an anchor, cookie support, and IE VML DPI setting). If no JavaScript support is available, it automatically redirects the user to a plain HTML version of the application.</p>
<p>In this mode, the application is not started until the library has determined Ajax support, which is made available in <a class="el" href="classWt_1_1WEnvironment.html#a18fb3679dc328a64cb90a2eb2c092722" title="Returns whether the browser has enabled support for AJAX.">WEnvironment::ajax()</a> which is passed to the application constructor.</p>
<p>In some special cases, this bootstrap is skipped and a plain HTML version is served. This is for user agents that are identified as spider bots, or user agents which are configured to not support Ajax (well), see the <a class="el" href="overview.html#config_general">user-agents configuration setting</a>.</p>
<p>There are some drawbacks to this bootstrap method:</p>
<ul>
<li>the redirection without JavaScript support may not be supported by all user agents, leaving these with a link and a redirect message (see the <a class="el" href="overview.html#config_general">redirect-message configuration</a> setting)</li>
<li>there is an additional roundtrip before any contents is rendered</li>
<li>for an Ajax user interface, all contents will be loaded through JavaScript. This has a drawback that some 3rd party JavaScript libraries do not support being loaded on-demand (with as most notable example, Google ads).</li>
</ul>
<h2><a class="anchor" id="progressive_bootstrap"></a>
6.1 Progressive bootstrap</h2>
<p>Since Wt 2.99.4, a new bootstrap method has been added (initially proposed by Anthony Roger Buck). While the default bootstrap already honors the principle of graceful degradation, this bootstrap implements this using the principle of <a href="http://en.wikipedia.org/wiki/Progressive_enhancement">progressive enhancement</a> (and quite literally so).</p>
<p>This bootstrap method may be enabled with the <a class="el" href="overview.html#config_general">progressive-bootstrap configuration setting</a>.</p>
<p>This bootstrap method will initially assume that the user agent is a plain HTML user agent and immediately create the application (with <a class="el" href="classWt_1_1WEnvironment.html#a18fb3679dc328a64cb90a2eb2c092722" title="Returns whether the browser has enabled support for AJAX.">WEnvironment::ajax()</a> always returning <code>false</code>). The initial response will contain the initial page suitable for a plain HTML user-agent.</p>
<p>JavaScript embedded in this page will sense for Ajax support and trigger a second request which progresses the application to an Ajax application (without repainting the user interface). To that extent, it will change <a class="el" href="classWt_1_1WEnvironment.html#a18fb3679dc328a64cb90a2eb2c092722" title="Returns whether the browser has enabled support for AJAX.">WEnvironment::ajax()</a> to return <code>true</code>, and invoke <a class="el" href="classWt_1_1WApplication.html#a46c573a3cd370cb2f83250c99d42b575" title="Progresses to an Ajax-enabled user interface.">WApplication::enableAjax()</a> which in turn propagates <a class="el" href="classWt_1_1WWidget.html#a919a4eaf68ff52f06f6a726d55dfb768" title="Progresses to an Ajax-enabled widget.">WWidget::enableAjax()</a> through the widget hierarchy. This upgrade happens in the back-ground, unnoticed to the user.</p>
<p>This mitigates disadvantages associated with the default bootstrap, but has the drawback of requiring consistent enableAjax() implementations and requiring more server-side processing.</p>
<h1><a class="anchor" id="sec_painting"></a>
 7. Painting</h1>
<p>Wt provides a vector graphics painting system which depending on the browser support uses one of three different methods to paint the graphics (inline SVG, inline VML or HTML 5 &lt;canvas&gt; element). Vector graphics has as benefit a lower bandwidth usage, which is indepedent of the image size and quality, and can be embedded within the HTML, avoiding an additional roundtrip. To use the paint system, you need to specialize <a class="el" href="classWt_1_1WPaintedWidget.html" title="A widget that is painted using vector graphics.">WPaintedWidget</a> and use a <a class="el" href="classWt_1_1WPainter.html" title="Vector graphics painting class.">WPainter</a> to paint the contents of the widget inside its <a class="el" href="classWt_1_1WPaintedWidget.html#ad8ce22eff41754c8616f45851f57fb1a" title="Paints the widget.">WPaintedWidget::paintEvent()</a>.</p>
<h1><a class="anchor" id="internationalization_sec"></a>
 8. Internationalization</h1>
<p>Wt's <a class="el" href="classWt_1_1WString.html" title="A value class which describes a locale-aware unicode string.">WString</a> class offers an interface to translate strings by using the static <a class="el" href="classWt_1_1WString.html#adf1e7e5fc3c7199563a69bf07d77e571" title="Creates a localized string from a key.">WString::tr</a>("key") method to construct a <a class="el" href="classWt_1_1WString.html" title="A value class which describes a locale-aware unicode string.">WString</a>. These key values will be lookup up in so-called message resource bundles (see <a class="el" href="classWt_1_1WMessageResourceBundle.html" title="Support for localized strings using XML files.">WMessageResourceBundle</a>). These are a set of xml files that translate the keys to a localized string. The name of the xml file determines the language contained therein (e.g. foo.xml, foo-nl.xml, foo-cn.xml)</p>
<p>The strings that are used by classes within the Wt library use the same system to translate their strings. English messages will be used by default and are built into Wt. If you want to translate e.g. the months of a <a class="el" href="classWt_1_1WCalendar.html" title="A calendar.">WCalendar</a>, copy src/xml/wt.xml and translate them to your language of choice. From then on, you can call <a class="el" href="classWt_1_1WMessageResourceBundle.html#a01368946b2a2aaceab3a64cddb1cb1e2" title="Adds a (series) of message resource files to be used.">WMessageResourceBundle::use()</a> in your application and use your own replacement XML files, which will take precedence over the built-in translations.</p>
<p>Wt also supports plural forms of nouns, to translate such string use the static <a class="el" href="classWt_1_1WString.html#af43284d8db7ade763739ac11555bae3b" title="Creates a localized string from a key for a number n.">WString::trn</a>("key", n) function. The <a class="el" href="classWt_1_1WMessageResourceBundle.html" title="Support for localized strings using XML files.">WMessageResourceBundle</a> class documentation contains an example on how to format the xml resource bundle to use this functionality.</p>
<h1><a class="anchor" id="deployment"></a>
 9. Deployment</h1>
<p>The library is designed so that, besides the application binary, only files from the <code>resources/</code> folder are needed to deploy the application. The resources folder contains icons, style sheets associated with themes, and other resources specific for special widgets. The URL at which the <code>resources/</code> folder is deployed is based on the <em>resourcesURL</em> configuration property (see see <a class="el" href="overview.html#config_general">configuration properties</a>), which defaults to "/resources".</p>
<p>In addition, you may need to deploy also your own CSS files, custom icons/images, and/or static pages that you reference from your application, onto your web server.</p>
<p>Your application may also use other files which do not need to be published online, but are instead read only by your application. These files include message resource files (containing localized text strings), the wt configuration file, your own configuration files, etc... You can deploy these to an <em>application root</em> (see <a class="el" href="classWt_1_1WApplication.html#a1eda1505e07b24dba48f87bdb78391b4" title="Returns the appRoot special property.">WApplication::appRoot()</a>), whose location is configured in a way that is specific for each connector.</p>
<h2><a class="anchor" id="wthttpd"></a>
9.1 Built-in httpd</h2>
<p>When linking your application against <code>libwthttp</code>, the resulting binary is a stand-alone HTTP/WebSockets server. The web server will act as a plain web server in addition to serving the Wt application.</p>
<p>The following locations for the wt_config.xml configuration file are considered, in this order:</p>
<ul>
<li>command-line parameter <code>&ndash;config</code> or <code>-c</code></li>
<li>value of environment variable <code>$WT_CONFIG_XML</code></li>
<li>within the appRoot, as configured by command line paramater <code>&ndash;approot</code>, or the environment variable <code>$WT_APP_ROOT</code>: appRoot<code>/wt_config.xml</code></li>
<li>the compile-time default (<code>/etc/wt/wt_config.xml</code>)</li>
</ul>
<p>Use the <code>&ndash;deploy-path</code> parameter to deploy the application at a specific URL. By default, the application is deployed at '/'.</p>
<p>When the application is deployed at a path ending with '/' (i.e. a folder path), only an exact match for a requested URL will be routed to the application itself. This behaviour avoids deployment problems with the singular case where you deploy at '/' and no static files would be served by the web server. As a consequence, ugly URLs will be generated for internal paths. Since version 3.1.9, it is however possible to have clean URLs also when deploying at the root by specifically listing the folders that contain static assets in &ndash;docroot, followed by ';':</p>
<div class="fragment"><div class="line">$ ../../build/examples/wt-homepage/Home.wt --docroot=&quot;.;/favicon.ico,/css,/resources,/style,/icons&quot; ...</div></div><!-- fragment --><p>If a static file (e.g. <code>style.css</code>) is requested, and the static file with <code></code>.gz extension (e.g. <code>style.css.gz</code>) exists, then the built-in httpd will assume that the <code></code>.gz file is the gzipped version of the file without <code></code>.gz, and will serve the <code></code>.gz file instead of applying compression.</p>
<h2><a class="anchor" id="fastcgi"></a>
9.2 FastCGI</h2>
<p>When linking your application against <code>libwtfcgi</code>, the resulting binary is a FastCGI binary. This binary may then be deployed and managed within a web server which supports the FastCGI protocol (these include apache, lighttpd and many other popular web servers).</p>
<p>The following locations for the wt_config.xml configuration file are considered, in this order:</p>
<ul>
<li>value of environment variable <code>$WT_CONFIG_XML</code></li>
<li>within the app root, as configured by the environment variable <code>$WT_APP_ROOT</code>: <code>$WT_APP_ROOT/wt_config.xml</code></li>
<li>the compile-time default (<code>/etc/wt/wt_config.xml</code>),</li>
</ul>
<p>Environment variables can be specified to a FastCGI application depending on the web server. E.g. for FastCGI, this is:</p>
<div class="fragment"><div class="line">-initial-env WT_APP_ROOT=/opt/myapp</div></div><!-- fragment --><h2><a class="anchor" id="wtisapi"></a>
9.3 ISAPI</h2>
<p>When linking your application against <code>wtisapi</code>, the resulting binary is an ISAPI plugin. This DLL may then be deployed and managed within Microsoft IIS.</p>
<p>The following locations for the wt_config.xml configuration file are considered, in this order:</p>
<ul>
<li>within the app root, as configured by the INI file which has the same name as the application DLL, but with .INI append to it (e.g. <tt>C:\Program Files\WtApplications\Public\MyApplication.dll.ini</tt> ):  <pre>
[isapi]
appRoot=C:\Program Files\MyApplications\AppRoot
</pre> </li>
<li>the compile-time default (<code>/etc/wt/wt_config.xml</code>)</li>
</ul>
<h1><a class="anchor" id="configuration_sec"></a>
 10. Configuration</h1>
<p>Wt has one main XML configuration file, which by default is located in <code>/etc/wt/wt_config.xml</code>, but whose location can be overridden use environment settings and/or commandline parameters that are connector specific (see the connector supra).</p>
<p>The configuration file may specify several <b>&lt;application-settings&gt;</b>. The settings that apply are determined by the <em>location</em> attribute. Application settings for the '*' location are general settings, which may be overridden on a per-application level by settings with a location attribute that matches the location of the application (on the file system).</p>
<h2><a class="anchor" id="config_session"></a>
10.1 Session management (wt_config.xml)</h2>
<p>These are options related to session management, and are specified inside <b>&lt;session-management&gt;</b> subsection.</p>
<dl>
<dt><b>dedicated-process</b>  </dt>
<dd><p class="startdd">Every session is mapped a dedicated process, allowing maximal session isolation, but at an increased session cost. This is not supported by the ISAPI connector. Note: when using the <code>wthttp</code> adapter, this will create a listening socket on the loopback interface (<code>127.0.0.1</code>) for every session, with the parent process acting as a proxy. The following options can be put in the <b>&lt;dedicated-process&gt;</b> subsection. </p><dl>
<dt><b>max-num-sessions</b> </dt>
<dd><p class="startdd">Limits the amount of session processes. </p>
<p class="enddd"></p>
</dd>
<dt><b>num-session-threads</b> </dt>
<dd><p class="startdd">Usually the dedicated session processes uses the same amount of threads as the parent process. This option changes the amount of threads the session processes use independently of the parent process. When this option is set the <b>num-threads</b> configuration option and the <b>-t</b> command line argument will only affect the parent process. </p>
<p class="enddd"></p>
</dd>
</dl>
<p class="enddd"></p>
</dd>
<dt><b>shared-process</b>  </dt>
<dd><p class="startdd">Sessions share a fixed number of processes, yielding a lower session cost. If neither <code>dedicated-process</code> nor the <code>shared-process</code> tags exist, <a class="el" href="namespaceWt.html" title="The namespace for Wt.">Wt</a> defaults to the shared process strategy.</p>
<p class="enddd"></p>
</dd>
<dt><b>tracking</b>  </dt>
<dd><p class="startdd">How session tracking is implemented: automatically (using cookies when available, otherwise using URL rewriting), strictly using URL rewriting (which allows multiple concurrent sessions from one user), or a combined tracking strategy that uses URL rewriting in combination with a shared cookie between sessions in the same browser for extra session hijacking protection. The combined strategy does not fall back to only URL rewriting when cookies are not available: it will simply refuse access.</p>
<p class="enddd"></p>
</dd>
<dt><b>reload-is-new-session</b>  </dt>
<dd><p class="startdd">Should a brower reload spawn a new session (convenient for debugging) or simply refresh (using <a class="el" href="classWt_1_1WApplication.html#ad0748988598ccc262894105ae8b490c9" title="Refreshes the application.">WApplication::refresh()</a>) the current session ? This setting may have implications for the URL that is displayed, because session information in needed in the URL to handle the reload within the current session.</p>
<p class="enddd"></p>
</dd>
<dt><b>timeout</b>  </dt>
<dd><p class="startdd">The timeout (in seconds) for detecting an idle session. A Wt application uses a keep-alive messages to keep the session alive as long as the user is visiting the page. Increasing this number will result in a longer time between keep-alive message, resulting in a lower server load, but at the same time will detect a dead session with a longer delay, and thus have on average more sessions in memory that are no longer used.</p>
<p class="enddd"></p>
</dd>
<dt><b>idle-timeout</b>  </dt>
<dd><p class="startdd"></p>
<p class="interdd">The timeout (in seconds) for detecting whether the user is idle. When the user does not interact with the application for the set number of seconds, <a class="el" href="classWt_1_1WApplication.html#af45b11935b59043fcd9cadd1f92e51ae" title="Idle timeout handler.">WApplication::idleTimeout()</a> is called. By default, this method quits the application immediately, but it can be overridden if different behaviour is desired.</p>
<p class="interdd"></p>
<p class="interdd">This feature can be used to prvent others from taking over a session when the device that the Wt application is being used from is left behind, and is most effective in combination with a fairly short session timeout.</p>
<p class="interdd"></p>
<p class="interdd">When omitted, or left empty, this feature is disabled</p>
<p class="interdd"></p>
<p class="enddd"></p>
</dd>
<dt><b>server-push-timeout</b>  </dt>
<dd><p class="startdd">When using server-initiated updates, the client uses long-polling requests or WebSockets. Proxies (including reverse proxies) are notorious for silently closing idle requests; the client therefore cancels the long polling request after a timeout, and starts a new one, or does a ping/pong message over the WebSocket connection.</p>
<p class="enddd"></p>
</dd>
</dl>
<h2><a class="anchor" id="config_general"></a>
10.2 General application settings (wt_config.xml)</h2>
<p>These options are indicated directly within <b>&lt;application-settings&gt;</b>, and specify settings that affect the run-time behaviour of the application.</p>
<dl>
<dt><b>debug</b>  </dt>
<dd><p class="startdd">When debugging is enabled, JavaScript errors are not caught, and thus will provide stack information when using a JavaScript debugger.</p>
<p class="enddd"></p>
</dd>
<dt><b>log-file</b>  </dt>
<dd><p class="startdd">Path to the log file used for application logging (see Wt::log()). If not specified, logging is directed to stderr, which depending on the connector used ends up in the server error log, into the big void, or, simply to stderr. </p>
<p class="enddd"></p>
</dd>
<dt><b>log-config</b>  </dt>
<dd><p class="startdd">Configuration for the built-in logger, which is passed on to <a class="el" href="classWt_1_1WLogger.html#a567c5b28fee703e37523898d30016f40" title="Configures what things are logged.">WLogger::configure()</a></p>
<p class="enddd"></p>
</dd>
<dt><b>max-request-size</b>  </dt>
<dd><p class="startdd">The maximum HTTP request size (Kb) that is accepted. An oversized request will result in a <a class="el" href="classWt_1_1WApplication.html#aaa3a28a32244dd8383fb760906e2ee77" title="Signal which indicates that too a large request was received.">WApplication::requestTooLarge()</a> signal. </p>
<p class="enddd"></p>
</dd>
<dt><b>num-threads</b>  </dt>
<dd><p class="startdd">Sets the number of threads to be used to handle Wt traffic. Depending on your application, you may want to increase the default size of 10 threads. </p>
<p class="enddd"></p>
</dd>
<dt><b>session-id-length</b>  </dt>
<dd><p class="startdd">The length (in number of characters) for the unique session ID.</p>
<p class="enddd"></p>
</dd>
<dt><b>session-id-prefix</b>  </dt>
<dd><p class="startdd">A fixed prefix for the session ID. You can use this to implement aid a load-balancer to figure out the destination for a particular request.</p>
<p class="enddd"></p>
</dd>
<dt><b>plain-ajax-sessions-ratio-limit</b>  </dt>
<dd><p class="startdd">DoS prevention: limit plain HTML sessions. This is a simple measure which avoids Denial-of-Service attacks on plain HTML sessions, which are easy to mount in particular in the case of progressive bootstrap mode. This setting may be used to keep the ratio of plain HTML versus Ajax sessions under a certain ratio. Typically, most of your sessions will be Ajax sessions, and only a tiny fraction (e.g. less than 5%) will be plain HTML sessions. This ratio is only enforced when more than 20 sessions have been created. </p>
<p class="enddd"></p>
</dd>
<dt><b>ajax-puzzle</b>  </dt>
<dd><p class="startdd">DoS prevention: adds a puzzle to validate Ajax sessions. This is a simple measure which avoids Denial-of-Service attacks on Ajax sessions. When enabled, a puzzle needs to be solved in the first Ajax request which eliminates agents that do not build a proper DOM tree. </p>
<p class="enddd"></p>
</dd>
<dt><b>send-xhtml-mime-type</b>  </dt>
<dd><p class="startdd">Whether the application presents rendered content as XHTML or HTML. Wt always renders XHTML1 compatible HTML, but by default indicates to the browser that it is in fact HTML. Before the adoption of HTML5, use inline SVG (see <a class="el" href="classWt_1_1WSvgImage.html" title="A paint device for rendering using Scalable Vector Graphics (SVG).">WSvgImage</a>), it was necessary to present an XHTML mime type. Setting this option will do so only for browsers that indicate support for XHTML. Nowadays, this option is rarely useful.</p>
<p class="enddd"></p>
</dd>
<dt><b>web-sockets</b>  </dt>
<dd><p class="startdd">By default Ajax and long polling are used to communicate between server and browser.</p>
<p class="interdd">By enabling web socket support, if the browser supports WebSockets, then WebSocket is the protocol used for communication between client and server. WebSockets are currently only supported by the built-in httpd Connector, which acts as both an HTTP and WebSocket server, multiplexed on the same port(s).</p>
<p class="interdd">Wt implements the final Web Sockets RFC candidate, as well as all prior drafts.</p>
<p class="enddd"></p>
</dd>
<dt><b>redirect-message</b>  </dt>
<dd><p class="startdd">When the default bootstrap method is used, this message is used in the link which redirects to the user to a plain HTML version, in case his user agent does not support the automatic redirect.</p>
<p class="enddd"></p>
</dd>
<dt><b>behind-reverse-proxy</b>  </dt>
<dd><p class="startdd">When enabling this option to indicate that the application is deployed behind a reverse proxy (as would be common if you use the wthttpd connector), the server location is not read from the "Host" header, but from the <code>X-Forwarded-For</code> header, if present.</p>
<p class="enddd"></p>
</dd>
<dt><b>user-agents</b>  </dt>
<dd><p class="startdd">Wt considers three types of sessions: </p><ul>
<li>
Ajax sessions: use Ajax and JavaScript </li>
<li>
plain HTML sessions: use plain old server POSTs </li>
<li>
bots: have clean internal paths, no persistent sessions, no html &lt;form&gt; elements, and no auto-generated DOM element id's. </li>
</ul>
<p class="interdd"></p>
<p class="interdd">By default, Wt does a browser detection to distinguish between the first two: if a browser supports JavaScript (and has it enabled), and has an Ajax DOM API, then Ajax sessions are chosen, otherwise plain HTML sessions.</p>
<p class="interdd"></p>
<p class="interdd"></p>
<p class="interdd">Here, you may indicate which user agents should or should not receive an Ajax session regardless of what they report as capabilities, and which user agents should be treated as search bots. You can define three types of &lt;user-agents&gt; lists:</p>
<ul>
<li><code>type="ajax" mode="white-list"</code>: these are the only user agents that are considered as Ajax-capable.</li>
<li><code>type="ajax" mode="black-list"</code>: these are user agents that are not considered as Ajax-capable.</li>
<li><code>type="bot"</code>: these are user-agents that are treated as bots. </li>
</ul>
<p class="interdd"></p>
<p class="interdd">Example:</p>
<div class="fragment"><div class="line">&lt;user-agents type=&quot;bot&quot;&gt;</div><div class="line">  &lt;user-agent&gt;.*Googlebot.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*msnbot.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Slurp.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Crawler.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Bot.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*ia_archiver.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Twiceler.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Yandex.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Nutch.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*MJ12bot.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Baiduspider.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Ezooms.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*Sogou web spider.*&lt;/user-agent&gt;</div><div class="line">  &lt;user-agent&gt;.*AhrefsBot.*&lt;/user-agent&gt;</div><div class="line">&lt;/user-agents&gt;</div></div><!-- fragment --><p class="interdd"></p>
<p class="enddd"></p>
</dd>
<dt><b>progressive-bootstrap</b>  </dt>
<dd><p class="startdd">This boolean configuration option configures which bootstrap method is used, see <a class="el" href="overview.html#bootstrap">&#160;6. Application bootstrap</a>. </p>
<p class="enddd"></p>
</dd>
<dt><b>properties</b>  </dt>
<dd><p class="startdd">Application-specific properties which may be accessed using <a class="el" href="classWt_1_1WApplication.html#a6df79da6453c2ec99564568d9c6d7d8d" title="Reads a configuration property.">WApplication::readConfigurationProperty()</a>. For example: </p><div class="fragment"><div class="line">&lt;properties&gt;</div><div class="line">   &lt;property name=&quot;tinyMCEVersion&quot;&gt;4&lt;/property&gt;</div><div class="line">   &lt;property name=&quot;tinyMCEBaseURL&quot;&gt;/tinymce&lt;/property&gt;</div><div class="line">   &lt;property name=&quot;resourcesURL&quot;&gt;/resources&lt;/property&gt;</div><div class="line">   &lt;property name=&quot;appRoot&quot;&gt;/opt/myapp&lt;/property&gt;</div><div class="line">&lt;/properties&gt;</div></div><!-- fragment --> <p class="enddd"></p>
</dd>
<dt><b>head-matter</b>  </dt>
<dd>HTML that should be inserted into the <code>&lt;head&gt;</code> of every page. This can be used e.g. for adding meta and link tags. </dd>
</dl>
<h2><a class="anchor" id="config_wthttpd"></a>
10.3 Wt httpd (command-line or configuration file) options</h2>
<p>These options are not specified in the wt_config.xml configuration file, but may be indicated on the command-line, or within a configuration file that is located at /etc/wt/wthttpd.</p>
<p>The configuration file syntax is line based: </p><ul>
<li>
<p class="startli"></p>
<p class="interli">A line in the form:</p>
<p class="interli"></p>
<p class="interli"><code>name = value</code></p>
<p class="interli"></p>
<p class="interli">gives a value to an option.</p>
<p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli">The <code>#</code> character introduces a comment that spans until the end of the line.</p>
<p class="endli"></p>
</li>
</ul>
<div class="fragment"><div class="line">Allowed options:</div><div class="line"></div><div class="line">General options:</div><div class="line">  -h [ --help ]                         produce help message</div><div class="line">  -t [ --threads ] arg (=-1)            number of threads (-1 indicates that </div><div class="line">                                        num_threads from wt_config.xml is to be</div><div class="line">                                        used, which defaults to 10)</div><div class="line">  --servername arg                      servername (IP address or DNS name)</div><div class="line">  --docroot arg                         document root for static files, </div><div class="line">                                        optionally followed by a </div><div class="line">                                        comma-separated list of paths with </div><div class="line">                                        static files (even if they are within a</div><div class="line">                                        deployment path), after a &#39;;&#39; </div><div class="line">                                        </div><div class="line">                                        e.g. --docroot=&quot;.;/favicon.ico,/resourc</div><div class="line">                                        es,/style&quot;</div><div class="line">                                        </div><div class="line">  --resources-dir arg                   path to the Wt resources folder. By </div><div class="line">                                        default, Wt will look for its resources</div><div class="line">                                        in the resources subfolder of the </div><div class="line">                                        docroot (see --docroot). If a file is </div><div class="line">                                        not found in that resources folder, </div><div class="line">                                        this folder will be checked instead as </div><div class="line">                                        a fallback. If this option is omitted, </div><div class="line">                                        then Wt will not use a fallback </div><div class="line">                                        resources folder.</div><div class="line">  --approot arg                         application root for private support </div><div class="line">                                        files; if unspecified, the value of the</div><div class="line">                                        environment variable $WT_APP_ROOT is </div><div class="line">                                        used, or else the current working </div><div class="line">                                        directory</div><div class="line">  --errroot arg                         root for error pages</div><div class="line">  --accesslog arg                       access log file (defaults to stdout), </div><div class="line">                                        to disable access logging completely, </div><div class="line">                                        use --accesslog=-</div><div class="line">  --no-compression                      do not use compression</div><div class="line">  --deploy-path arg (=/)                location for deployment</div><div class="line">  --session-id-prefix arg               prefix for session IDs (overrides </div><div class="line">                                        wt_config.xml setting)</div><div class="line">  -p [ --pid-file ] arg                 path to pid file (optional)</div><div class="line">  -c [ --config ] arg                   location of wt_config.xml; if </div><div class="line">                                        unspecified, the value of the </div><div class="line">                                        environment variable $WT_CONFIG_XML is </div><div class="line">                                        used, or else the built-in default </div><div class="line">                                        (/etc/wt/wt_config.xml) is tried, or else </div><div class="line">                                        built-in defaults are used</div><div class="line">  --max-memory-request-size arg (=131072)</div><div class="line">                                        threshold for request size (bytes), for</div><div class="line">                                        spooling the entire request to disk, to</div><div class="line">                                        avoid DoS</div><div class="line">  --gdb                                 do not shutdown when receiving Ctrl-C </div><div class="line">                                        (and let gdb break instead)</div><div class="line"></div><div class="line">HTTP/WebSocket server options:</div><div class="line">  --http-listen arg                     address/port pair to listen on. If no </div><div class="line">                                        port is specified, 80 is used as the </div><div class="line">                                        default, e.g. 127.0.0.1:8080 will cause</div><div class="line">                                        the server to listen on port 8080 of </div><div class="line">                                        127.0.0.1 (localhost). For IPv6, use </div><div class="line">                                        square brackets, e.g. [::1]:8080 will </div><div class="line">                                        cause the server to listen on port 8080</div><div class="line">                                        of [::1] (localhost). This argument can</div><div class="line">                                        be repeated, e.g. --http-listen </div><div class="line">                                        0.0.0.0:8080 --http-listen [0::0]:8080 </div><div class="line">                                        will cause the server to listen on port</div><div class="line">                                        8080 of all interfaces using IPv4 and </div><div class="line">                                        IPv6. You must specify this option or </div><div class="line">                                        --https-listen at least once. The older</div><div class="line">                                        style --http-address and </div><div class="line">                                        --https-address can also be used for </div><div class="line">                                        backwards compatibility. If a hostname </div><div class="line">                                        is provided instead of an IP address, </div><div class="line">                                        the server will listen on all of the </div><div class="line">                                        addresses (IPv4 and IPv6) that this </div><div class="line">                                        hostname resolves to.</div><div class="line">  --http-address arg                    IPv4 (e.g. 0.0.0.0) or IPv6 Address </div><div class="line">                                        (e.g. 0::0). You must specify either </div><div class="line">                                        --http-listen, --https-listen, </div><div class="line">                                        --http-address, or --https-address.</div><div class="line">  --http-port arg (=80)                 HTTP port (e.g. 80)</div><div class="line"></div><div class="line">HTTPS/Secure WebSocket server options:</div><div class="line">  --https-listen arg                    address/port pair to listen on. If no </div><div class="line">                                        port is specified, 80 is used as the </div><div class="line">                                        default, e.g. 127.0.0.1:8080 will cause</div><div class="line">                                        the server to listen on port 8080 of </div><div class="line">                                        127.0.0.1 (localhost). For IPv6, use </div><div class="line">                                        square brackets, e.g. [::1]:8080 will </div><div class="line">                                        cause the server to listen on port 8080</div><div class="line">                                        of [::1] (localhost). This argument can</div><div class="line">                                        be repeated, e.g. --https-listen </div><div class="line">                                        0.0.0.0:8080 --https-listen [0::0]:8080</div><div class="line">                                        will cause the server to listen on port</div><div class="line">                                        8080 of all interfaces using IPv4 and </div><div class="line">                                        IPv6. If a hostname is provided instead</div><div class="line">                                        of an IP address, the server will </div><div class="line">                                        listen on all of the addresses (IPv4 </div><div class="line">                                        and IPv6) that this hostname resolves </div><div class="line">                                        to.</div><div class="line">  --https-address arg                   IPv4 (e.g. 0.0.0.0) or IPv6 Address </div><div class="line">                                        (e.g. 0::0). You must specify either </div><div class="line">                                        --http-listen, --https-listen, </div><div class="line">                                        --http-address, or --https-address.</div><div class="line">  --https-port arg (=443)               HTTPS port (e.g. 443)</div><div class="line">  --ssl-certificate arg                 SSL server certificate chain file</div><div class="line">                                        e.g. &quot;/etc/ssl/certs/vsign1.pem&quot;</div><div class="line">  --ssl-private-key arg                 SSL server private key file</div><div class="line">                                        e.g. &quot;/etc/ssl/private/company.pem&quot;</div><div class="line">  --ssl-tmp-dh arg                      File for temporary Diffie-Hellman </div><div class="line">                                        parameters</div><div class="line">                                        e.g. &quot;/etc/ssl/dh512.pem&quot;</div><div class="line">  --ssl-enable-v3                       Switch on SSLv3 support (not </div><div class="line">                                        recommended; disabled by default)</div><div class="line">  --ssl-client-verification arg (=none) The verification mode for client </div><div class="line">                                        certificates.</div><div class="line">                                        This is either &#39;none&#39;, &#39;optional&#39; or </div><div class="line">                                        &#39;required&#39;. When &#39;none&#39;, the server </div><div class="line">                                        will not request a client certificate. </div><div class="line">                                        When &#39;optional&#39;, the server will </div><div class="line">                                        request a certificate, but the client </div><div class="line">                                        does not have to supply one. With </div><div class="line">                                        &#39;required&#39;, the connection will be </div><div class="line">                                        terminated if the client does not </div><div class="line">                                        provide a valid certificate.</div><div class="line">  --ssl-verify-depth arg (=1)           Specifies the maximum length of the </div><div class="line">                                        server certificate chain.</div><div class="line">                                        </div><div class="line">  --ssl-ca-certificates arg             Path to a file containing the </div><div class="line">                                        concatenated trusted CA certificates, </div><div class="line">                                        which can be used to authenticate the </div><div class="line">                                        client. The file should contains a a </div><div class="line">                                        number of PEM-encoded certificates.</div><div class="line">                                        </div><div class="line">  --ssl-cipherlist arg                  List of acceptable ciphers for SSL. </div><div class="line">                                        This list is passed as-is to the SSL </div><div class="line">                                        layer, so see openssl for the proper </div><div class="line">                                        syntax. When empty, the default </div><div class="line">                                        acceptable cipher list will be used. </div><div class="line">                                        Example cipher list string: </div><div class="line">                                        &quot;TLSv1+HIGH:!SSLv2&quot;</div><div class="line">                                        </div><div class="line">  --ssl-prefer-server-ciphers arg (=0)  By default, the client&#39;s preference is </div><div class="line">                                        used for determining the cipher that is</div><div class="line">                                        choosen during a SSL or TLS handshake. </div><div class="line">                                        By enabling this option, the server&#39;s </div><div class="line">                                        preference will be used.</div><div class="line"></div><div class="line">Settings may be set in the configuration file /etc/wt/wthttpd</div></div><!-- fragment --><h2><a class="anchor" id="config_fastcgi"></a>
10.4 FastCGI options (wt_config.xml)</h2>
<p>These options only apply to FastCGI-based deployment, and are specified inside a <b>&lt;connector-fcgi&gt;</b> subsection.</p>
<dl>
<dt><b>valgrind-path</b>  </dt>
<dd><p class="startdd">Set the path to valgrind for debugging using valgrind. This requires that debugging is enabled and <code>debug</code> is passed to the application as last request parameter.</p>
<p class="enddd"></p>
</dd>
<dt><b>run-directory</b>  </dt>
<dd>The path that is used by the library for managing sessions. </dd>
</dl>
<h2><a class="anchor" id="config_isapi"></a>
10.5 ISAPI options (wt_config.xml)</h2>
<p>These options only apply to ISAPI-based deployment, and are are specified inside a <b>&lt;connector-isapi&gt;</b> subsection.</p>
<dl>
<dt><b>max-memory-request-size</b>  </dt>
<dd>Every HTTP request whose size is smaller than this parameter will be buffered in memory. Larger requests, such as large file uploads, will be spooled to a file. You probably do not want to change this parameter.  </dd>
</dl>
<h1><a class="anchor" id="error_sec"></a>
 11. Error handling and logging</h1>
<p>Wt provides logging of events to a log-file (see the <a class="el" href="overview.html#config_general">log-file configuration setting</a>). Every log entry has a timestamp, the process id and the session id. Wt uses four different event types, from least to most severe:</p>
<dl>
<dt><b>notice</b>  </dt>
<dd><p class="startdd">Informational notices. These are events that may be interesting for late analysis of other problems, for performance analysis, or estimating server load.</p>
<p class="interdd"></p>
<p class="interdd">Generated using Wt::log(), e.g.: </p><div class="fragment"><div class="line">Wt::log(&quot;info&quot;) &lt;&lt; &quot;Message&quot;;</div></div><!-- fragment --> <p class="interdd"></p>
<p class="enddd"></p>
</dd>
<dt><b>warn</b>  </dt>
<dd><p class="startdd">Warnings. These events are generated when you are using the API in a way that may not have been as intended.</p>
<p class="interdd"></p>
<p class="interdd">Generated using Wt::log(), e.g.: </p><div class="fragment"><div class="line">Wt::log(&quot;warn&quot;) &lt;&lt; &quot;Message&quot;;</div></div><!-- fragment --> <p class="interdd"></p>
<p class="enddd"></p>
</dd>
<dt><b>error</b>  </dt>
<dd><p class="startdd">Non-fatal application errors. These errors indicate for example unexpected input from the web browser or application user, XML parsing problems, but not necessarily a programming error.</p>
<p class="interdd"></p>
<p class="interdd">Generated using Wt::log(), e.g.: </p><div class="fragment"><div class="line">Wt::log(&quot;error&quot;) &lt;&lt; &quot;Message&quot;;</div></div><!-- fragment --> <p class="interdd"></p>
<p class="enddd"></p>
</dd>
<dt><b>secure</b>  </dt>
<dd><p class="startdd">Non-fatal security errors and/or notices.</p>
<p class="enddd"></p>
</dd>
<dt><b>fatal</b>  </dt>
<dd><p class="startdd">Fatal application errors. These errors terminate the current session (but not the application server), and are errors that indicate a programming error. For example, this error is triggered by misuses of the API.</p>
<p class="interdd"></p>
<p class="interdd">Generated by throwing a std::exception.</p>
<p class="enddd"></p>
</dd>
</dl>
<p>You can now proceed to <a class="el" href="InstallationUnix.html">Installation: Unix-like platforms (Linux, macOS, BSD,...)</a> or <a class="el" href="InstallationWindows.html">Installation: Windows</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<hr size="1"><address style="text-align: right; margin: 3px"><small>
Generated on Wed Apr 22 2020 for <a href="http://www.webtoolkit.eu/wt">the
C++ Web Toolkit (Wt)</a> by&nbsp;<a
href="http://www.doxygen.org/index.html"><img src="doxygen.png"
alt="doxygen" border="0" style="vertical-align: middle; display:
inline-block; height: 2em"></a> 1.8.15</small></address>
</body>
</html>
